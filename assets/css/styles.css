/* ======================================================================
   Feuille de style de Ludus Mentis
   Auteur : Gemini Assistant pour Antoine Billard
   Version : Finale et lisible
   ====================================================================== */

/* ======================================================================
   TABLE DES MATIÈRES
   ======================================================================
   1.  Configuration globale (Polices, Variables, etc.)
   2.  Reset et Styles de base (Typographie)
   3.  Structure et Layout (Container, Sections, Cartes)
   4.  Composants spécifiques (Header, Navigation, Boutons, Formulaires)
   5.  Styles pour le Footer
   6.  Responsive (Media Queries pour mobile)
   7.  Styles d'impression
   ====================================================================== */


/* ======================================================================
   1. CONFIGURATION GLOBALE
   ====================================================================== */

/* --- Importation de la police Google Fonts --- */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

/* --- Variables CSS (Design Tokens) --- */
:root {
  /* Couleurs */
  --clr-bg:           #f9f7f3;
  --clr-surface:      #fffdfa;
  --clr-text:         #4b3200;
  --clr-accent:       #d76f00;
  --clr-accent-dark:  #a15200;
  --clr-accent-light: #fff3e0;

  /* Dimensions & Ombres */
  --radius:     0.5rem;
  --shadow-sm:  0 2px 6px rgba(90, 47, 0, 0.06);
  --shadow-lg:  0 8px 20px rgba(90, 47, 0, 0.12);

  /* Transitions */
  --transition: 0.25s ease-out;
}

/* --- Mode sombre (Dark Mode) --- */
@media (prefers-color-scheme: dark) {
  :root {
    --clr-bg:           #1c1b18;
    --clr-surface:      #352916;
    --clr-text:         #f9f7f3;
    --clr-accent:       #ff8a3c;
    --clr-accent-dark:  #ffae70;
    --clr-accent-light: #2b2212;
  }
}


/* ======================================================================
   2. RESET ET STYLES DE BASE (TYPOGRAPHIE)
   ====================================================================== */

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  color-scheme: light dark;
}

body {
  font-family: 'Poppins', Arial, sans-serif;
  background-color: var(--clr-bg);
  color: var(--clr-text);
  line-height: 1.7;
  -webkit-font-smoothing: antialiased;
  font-size: clamp(16px, 1.5vw, 18px);
}

h1, h2, h3, h4 {
  font-weight: 600;
  color: var(--clr-accent);
  line-height: 1.25;
  margin-bottom: 0.5em;
}

h1 { font-size: clamp(1.8rem, 4vw, 2.5rem); }
h2 { font-size: clamp(1.3rem, 3vw, 1.7rem); }
h3 { font-size: clamp(1.1rem, 2.5vw, 1.25rem); }

p {
  margin-bottom: 1.1em;
}

ul {
  padding-left: 1.3em;
}

strong {
  color: var(--clr-accent-dark);
}

a {
  color: var(--clr-accent-dark);
  text-decoration: underline;
  text-decoration-color: rgba(215, 111, 0, 0.4);
  text-underline-offset: 4px;
  text-decoration-thickness: 1.5px;
  transition: color var(--transition), text-decoration-color var(--transition);
}

a:hover, a:focus {
  color: var(--clr-accent);
  text-decoration-color: rgba(215, 111, 0, 1);
}

:focus-visible {
  outline: 3px dashed var(--clr-accent);
  outline-offset: 3px;
}


/* ======================================================================
   3. STRUCTURE ET LAYOUT
   ====================================================================== */

.container {
  max-width: 1100px;
  margin-inline: auto;
  padding-inline: 1.2rem;
}

.section {
  background: var(--clr-surface);
  border-radius: calc(2 * var(--radius));
  padding: 2.2rem 1.4rem 1.7rem;
  margin: 2.2rem auto 1.7rem;
  box-shadow: var(--shadow-sm);
}

.section > :first-child {
  margin-top: 0;
}

.card {
  background: #fffbf0;
  border: 1.5px solid #ffecb3;
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition), box-shadow var(--transition);
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
}

.hero {
  text-align: center;
  background: linear-gradient(130deg, #ffe0b2 0%, #fff3e0 90%);
  box-shadow: 0 6px 24px rgba(245, 124, 0, 0.09);
  margin-bottom: 2.2rem;
  border-radius: calc(2 * var(--radius));
  padding: 2.5rem 1rem;
}

.hero img {
  max-width: 120px;
  margin-bottom: 1rem;
}


/* ======================================================================
   4. COMPOSANTS SPÉCIFIQUES
   ====================================================================== */

/* --- Header --- */
.site-header {
  position: sticky;
  top: 0;
  z-index: 100;
  width: 100%;
  background: var(--clr-surface);
  box-shadow: 0 2px 8px rgba(160, 95, 20, 0.06);
}

.header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 970px;
  margin-inline: auto;
  padding: .6rem 1.2rem;
}

.site-logo {
  height: 48px;
  max-width: 110px;
}

/* --- Navigation Principale (Desktop) --- */
.main-nav {
  display: flex;
  align-items: baseline;
  gap: 0.5rem;
  font-weight: 500;
}

.main-nav > a,
.dropbtn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 44px;
  padding: 0 0.8rem;
  border-radius: 1em;
  font-weight: 500;
  color: var(--clr-accent-dark);
  text-decoration: none;
  background: none;
  border: none;
  font-family: inherit;
  font-size: 1em;
  cursor: pointer;
  transition: background .15s ease-in-out, color .15s ease-in-out;
}

.main-nav > a:hover,
.main-nav > a:focus-visible,
.dropbtn:hover,
.dropbtn:focus-visible {
  background: var(--clr-accent-light);
  color: var(--clr-accent);
  outline: none;
}

/* --- Menus Déroulants (Dropdown) --- */
.dropdown {
  position: relative;
}

.dropdown-content {
  display: none;
  position: absolute;
  top: 105%;
  left: 0;
  background-color: var(--clr-surface);
  min-width: 190px;
  box-shadow: var(--shadow-lg);
  z-index: 1000;
  border-radius: var(--radius);
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.2s ease, transform 0.2s ease;
  padding: .5rem;
  border: 1px solid rgba(0,0,0,0.05);
}

.dropdown-content.show,
.dropdown:hover .dropdown-content {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

.dropdown-content a {
  color: var(--clr-text);
  padding: 0.75rem 1.2rem;
  display: block;
  text-decoration: none;
  font-weight: 500;
  border-radius: 0.5rem;
}

.dropdown-content a:hover {
  background: var(--clr-accent-light);
  color: var(--clr-accent);
}

/* --- Bouton Burger (caché par défaut) --- */
.menu-toggle {
  display: none;
}

/* --- Boutons et Formulaires --- */
.btn,
.cta-button,
button,
input[type="submit"] {
  display: inline-block;
  background: var(--clr-accent);
  color: #fff;
  padding: .9em 2em;
  border-radius: 2em;
  font-size: 1.08em;
  font-weight: 600;
  margin-top: 1.3em;
  border: none;
  box-shadow: var(--shadow-sm);
  letter-spacing: .03em;
  cursor: pointer;
  transition: background var(--transition), transform var(--transition);
}

.btn:hover,
.btn:focus,
.cta-button:hover,
.cta-button:focus,
button:hover,
button:focus,
input[type="submit"]:hover,
input[type="submit"]:focus {
  background: var(--clr-accent-dark);
  transform: translateY(-2px) scale(1.04);
}

.contact-form {
  display: flex;
  flex-direction: column;
  gap: 1.1em;
  margin-top: 1.2em;
  background: var(--clr-surface);
  border-radius: 1.2em;
  box-shadow: var(--shadow-sm);
  padding: 2rem 1rem 1rem;
}

.contact-form label {
  font-weight: 600;
  color: var(--clr-accent-dark);
  margin-bottom: -0.5em;
}

.contact-form input,
.contact-form textarea {
  padding: .9em 1em;
  border: 1.4px solid #f7c982;
  border-radius: .9em;
  font-size: 1.05em;
  background: #fffbf5;
  color: #523a1c;
  transition: border-color .18s, box-shadow .18s;
}

.contact-form input:focus,
.contact-form textarea:focus {
  border-color: var(--clr-accent);
  box-shadow: 0 0 0 3px rgba(215, 111, 0, .25);
}

/* --- Section Spécifique "Sources" --- */
.section.sources {
  background: var(--clr-surface);
  border-left: 4px solid var(--clr-accent);
  padding: 2rem 1.6rem 1.8rem;
}

.section.sources ol {
  counter-reset: source-counter;
  list-style: none;
  padding-left: 0;
  margin-left: 0;
}

.section.sources li {
  counter-increment: source-counter;
  position: relative;
  padding-left: 2.2rem;
  margin-bottom: .8em;
  line-height: 1.6;
}

.section.sources li::before {
  content: counter(source-counter) ".";
  position: absolute;
  left: 0;
  top: 0;
  font-weight: 600;
  color: var(--clr-accent-dark);
}


/* ======================================================================
   5. FOOTER
   ====================================================================== */

#footer,
.site-footer {
  background: var(--clr-surface);
  color: var(--clr-text);
  text-align: center;
  padding: 1.5rem 1.2rem; /* Padding vertical légèrement réduit pour un rendu plus fin */
  font-size: 0.9em;      /* Taille de police subtilement diminuée */
  line-height: 1.6;
  border-top: 1px solid rgba(0, 0, 0, 0.05); /* Ajout d'une ligne fine pour une meilleure séparation */
  box-shadow: 0 -2px 8px rgba(90, 47, 0, .04); /* Ombre adoucie */
}

#footer a,
.site-footer a {
  color: var(--clr-accent-dark);
}

#footer a:hover,
#footer a:focus,
.site-footer a:hover,
.site-footer a:focus {
  color: var(--clr-accent);
}

/* En mode sombre, on ajuste la couleur de la bordure */
@media (prefers-color-scheme: dark) {
  #footer,
  .site-footer {
    border-top-color: rgba(255, 255, 255, 0.08);
  }
}

/* ======================================================================
   6. RESPONSIVE (MEDIA QUERIES)
   ====================================================================== */

/* --- Pour les écrans de moins de 800px de large (tablettes, mobiles) --- */
@media (max-width: 800px) {
  
  /* --- Bouton Burger --- */
  .menu-toggle {
    display: block;
    background: none;
    border: none;
    font-size: 1.8rem;
    line-height: 1;
    color: var(--clr-text);
    cursor: pointer;
    z-index: 1001;
  }

  /* --- Navigation Mobile (cachée par défaut) --- */
  .main-nav {
    display: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    padding-top: 6rem;
    background: var(--clr-surface);
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    z-index: 1000;
  }
  
  /* --- Styles pour le menu mobile quand il est ouvert --- */
  .main-nav.nav-open {
    display: flex;
  }

  .main-nav.nav-open .dropbtn {
    display: none;
  }
  
  .main-nav.nav-open .dropdown-content {
    display: block;
    position: static;
    opacity: 1;
    transform: none;
    box-shadow: none;
    background: none;
    min-width: auto;
    text-align: center;
    padding-top: 0.5rem;
  }
  
  .main-nav.nav-open .dropdown-content a {
    font-size: 0.9em;
    color: var(--clr-text);
  }

  /* --- Ajustements de layout pour mobile --- */
  #footer .footer-inner,
  .site-footer .footer-inner {
    flex-direction: column;
    gap: 1rem;
  }
}


/* ======================================================================
   7. STYLES D'IMPRESSION ET DARK MODE
   ====================================================================== */

@media print {
  body { background: #fff; color: #000; }
  nav, .menu-toggle, .dropdown-content, .btn, .cta-button { display: none !important; }
  a::after { content: " (" attr(href) ")"; font-size: 0.9em; }
  section, article { page-break-inside: avoid; }
}

@media (prefers-color-scheme: dark) {
  .card { background: var(--clr-surface) !important; border-color: var(--clr-accent-light) !important; }
  .hero, .section-hero { background: var(--clr-surface) !important; }
  .site-header { background: var(--clr-surface) !important; }
  .dropdown-content { border-color: rgba(255,255,255,0.1); }
}
