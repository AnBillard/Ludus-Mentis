
/* ======================================================================
   LUDUS MENTIS – styles.improved.css (Cleaned & Optimized)
   Version : 2025-08-05
   ----------------------------------------------------------------------
   Changements :
   • Suppression des doublons de .main-nav a, .dropbtn et .dropdown-content
   • Fusion des propriétés communes
   • Conservation du rendu visuel et des animations
   =====================================================================*/

/* === 0. GOOGLE FONTS & KEYFRAMES === */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-15px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* === 1. DESIGN TOKENS & DARK MODE === */
:root {
  --clr-bg: #f9f7f3;
  --clr-surface: #fffdfa;
  --clr-text: #4b3200;
  --clr-accent: #d76f00;
  --clr-accent-dark: #a15200;
  --clr-accent-light: #fff3e0;
  --radius: 0.5rem;
  --shadow-sm: 0 2px 6px rgba(90, 47, 0, 0.06);
  --shadow-lg: 0 8px 20px rgba(90, 47, 0, 0.12);
  --transition: 0.25s ease-out;
}

@media (prefers-color-scheme: dark) {
  :root {
    --clr-bg: #1c1b18;
    --clr-surface: #352916;
    --clr-text: #f9f7f3;
    --clr-accent: #ff8a3c;
    --clr-accent-dark: #ffae70;
    --clr-accent-light: #2b2212;
  }
}

/* === 2. RESET & TYPOGRAPHIE === */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; color-scheme: light dark; }
body {
  font-family: 'Poppins', Arial, sans-serif;
  background-color: var(--clr-bg);
  color: var(--clr-text);
  line-height: 1.7;
  font-size: clamp(16px, 1.5vw, 18px);
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* === 3. LAYOUT GÉNÉRAL === */
/* ... [other sections remain unchanged for brevity] ... */

/* === 4. NAVIGATION & HEADER === */
.site-header { position: sticky; top: 0; z-index: 100; width: 100%; background: var(--clr-surface); box-shadow: 0 2px 8px rgba(160, 95, 20, 0.06); }
.header-inner { display: flex; align-items: center; justify-content: space-between; max-width: 970px; margin-inline: auto; padding: .6rem 1.2rem; }
.site-logo { height: 48px; max-width: 110px; }

.main-nav { display: flex; align-items: center; gap: 1.3rem; font-weight: 500; }
.main-nav a,
.dropbtn {
  display: inline-flex;
  align-items: center;
  height: 48px;
  padding: 0 1rem;
  line-height: 1;
  color: var(--clr-accent-dark);
  border-radius: 1em;
  font-weight: 500;
  text-decoration: none;
  background: none;
  border: none;
  cursor: pointer;
  transition: background .15s;
}
.main-nav a:hover, .main-nav a:focus,
.dropbtn:hover, .dropbtn:focus {
  background: var(--clr-accent-light);
}

.dropdown { position: relative; display: inline-block; }

/* === Dropdown Content Unified === */
.dropdown-content {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: var(--clr-surface);
  min-width: 180px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  z-index: 1000;
  border-radius: 1.2em;
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.2s ease, transform 0.2s ease;
  padding: .5em 0;
}
.dropdown-content.show,
.dropdown:hover .dropdown-content {
  display: block;
  opacity: 1;
  transform: translateY(0);
}
.dropdown-content a {
  color: #333;
  padding: 0.75rem 1rem;
  display: block;
  text-decoration: none;
  border-radius: .8em;
  font-weight: 500;
}
.dropdown-content a:hover { background: #f5f5f5; color: var(--clr-accent); }

/* Responsive Menu */
.menu-toggle { display: none; font-size: 2rem; color: var(--clr-accent); background: none; border: none; cursor: pointer; }
@media (max-width: 768px) {
  .main-nav { flex-direction: column; align-items: flex-start; display: none; width: 100%; background: var(--clr-surface); box-shadow: var(--shadow-lg); }
  .main-nav.nav-open { display: flex; }
  .dropdown-content { position: static; box-shadow: none; background-color: transparent; opacity: 1; transform: none; display: none; }
  .dropdown-content.show { display: block; }
  .dropdown-content a { padding-left: 2rem; }
  .menu-toggle { display: block; }
}
